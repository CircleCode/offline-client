<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE bindings [
      <!ENTITY % header-bindingDTD SYSTEM "chrome://dcpoffline/locale/bindings/header-binding.dtd" >
      <!ENTITY systemBindingsDirPath "chrome://dcpoffline/content/bindings/system" >
      %header-bindingDTD;
]>

<bindings
    id="docHeaderBindings"
    xmlns="http://www.mozilla.org/xbl"
    xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
    xmlns:xbl="http://www.mozilla.org/xbl">

    <binding
        id="doc-header"
        extends="&systemBindingsDirPath;/doc-item.xml#doc-item">

        <content>
            <xul:hbox
                class="document-header"
                flex="1">
                <xul:hbox
                    flex="1">
                    <xul:image
                        anonid="document-icon" />
                    <xul:label
                        anonid="document-title"
                        class="document-title" />
                </xul:hbox>
                <children />
            </xul:hbox>
        </content>

        <implementation>




            <constructor><![CDATA[
                var icon = this.doc.getIcon();
                
                if( icon ){
                    icon = "file://" + icon;
                }
                
                this.getChild('document-icon').src = icon;
                this.getChild('document-title').value = this.doc.getTitle();
                
            ]]></constructor>
        </implementation>

        <!--<handlers/> -->
    </binding>

</bindings>